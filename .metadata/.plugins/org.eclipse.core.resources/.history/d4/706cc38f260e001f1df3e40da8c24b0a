<%@ include file="AdminSidebar.jsp" %>
<%@ page import="utils.Utilities"%>
<%@ page import="java.util.List, models.BrandModel"%>
<!DOCTYPE html>
<html>
<head>
    <title>Add Brand</title>
    <style>
   body {
    font-family: Arial, sans-serif;
    background-color: #f6f6f9;
    color: #363949;
    margin: 0;
    padding: 0;
}

.container {
    width: 1000px;
    margin: 0 auto;
    margin-top: 50px;
    padding: 20px;
    background-color: #fff;
    border-radius: 32px;
    box-shadow: 0 32px 48px rgba(132, 139, 200, 0.18);
}

.form-messages {
    margin-bottom: 20px;
}

.success-message, .error-message {
    padding: 10px;
    margin-bottom: 10px;
    border-radius: 6.4px;
}

.success-message {
    background-color: #41f1b6;
    color: #fff;
}

.error-message {
    background-color: #ff7782;
    color: #fff;
}

h2 {
    font-size: 24px;
    font-weight: bold;
    color: #333;
    margin-bottom: 20px;
}

.form-group {
    margin-bottom: 20px;
}

.form-group label {
    display: block;
    font-weight: bold;
    margin-bottom: 10px;
    color: #333;
}

.form-group input[type="text"],
.form-group input[type="number"],
.form-group textarea,
.form-group select {
    width: 100%;
    padding: 10px;
    border: 1px solid #7d8da1;
    border-radius: 6.4px;
    box-sizing: border-box;
    margin-top: 5px; /* Adjust as needed */
}

.form-group select {
    appearance: none;
    background: url('data:image/svg+xml;utf8,<svg fill="%237d8da1" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>') no-repeat right 10px center/14px auto;
    padding-right: 30px;
}

.form-group button {
    padding: 10px 20px;
    border: none;
    border-radius: 6.4px;
    background-color: cornflowerblue;
    color: #fff;
    cursor: pointer;
    margin-top: 10px; /* Adjust as needed */
}

.form-group button:hover {
    background-color: #111e88;
}

    </style>
</head>
<body>
    <div class="admin-content">
        <div class="admin-form">
            <div class="message-from-backend">
                <% if (request.getAttribute(Utilities.SUCCESS_MESSAGE) != null) { %>
                <div class="alert alert-success" role="alert">
                    <%=request.getAttribute(Utilities.SUCCESS_MESSAGE)%>
                </div>
                <% } else if (request.getAttribute(Utilities.ERROR_MESSAGE) != null) { %>
                <% if (request.getAttribute(Utilities.ERROR_MESSAGE).equals(Utilities.INCORRECT_FORM_DATA_MESSAGE)) { %>
                <div class="alert alert-danger" role="alert">
                    <%=request.getAttribute(Utilities.ERROR_MESSAGE)%>
                </div>
                <% } else if (request.getAttribute(Utilities.ERROR_MESSAGE).equals(Utilities.SERVER_ERROR_MESSAGE)) { %>
                <div class="alert alert-danger" role="alert">
                    <%=request.getAttribute(Utilities.ERROR_MESSAGE)%>
                </div>
                <% } %>
                <% } %>
            </div>
            <h2>Add Brand</h2>
            <form action="${pageContext.request.contextPath}/AddBrand" method="post">
                <label for="companyName">Company Name:</label><br>
                <input type="text" id="companyName" name="companyName" required><br><br>
                <label for="country">Country:</label><br>
                <input type="text" id="country" name="country"><br><br>
                <label for="contactInformation">Contact Information:</label><br>
                <input type="text" id="contactInformation" name="contactInformation"><br><br>
                <label for="website">Website:</label><br>
                <input type="text" id="website" name="website"><br><br>
                <input type="submit" value="Submit">
            </form>
        </div>
        <div class="show-brands">
            <h1>List of Brands</h1>
            <table>
                <tr>
                    <th>Company Name</th>
                    <th>Country</th>
                    <th>Contact Information</th>
                    <th>Website</th>
                    <th>Actions</th>
                </tr>
                <% 
                List<BrandModel> brands = (List<BrandModel>) request.getAttribute("brands");
                if (brands != null) {
                    for (BrandModel brand : brands) { 
                %>
                <tr>
                    <td><%= brand.getCompanyName() %></td>
                    <td><%= brand.getCountry() %></td>
                    <td><%= brand.getContactInformation() %></td>
                    <td><%= brand.getWebsite() %></td>
                    <td>
                        <a href="${pageContext.request.contextPath}/ModifyBrandServlet?id=<%= brand.getBrandId() %>" class="action-btn">Edit</a>
                        <a href="${pageContext.request.contextPath}/ModifyBrandServlet?id=<%= brand.getBrandId() %>" class="action-btn delete">Delete</a>
                    </td>
                </tr>
                <% 
                    } 
                } 
                %>
            </table>
        </div>
    </div>
</body>
</html>
